(this["webpackJsonpreact-practice"]=this["webpackJsonpreact-practice"]||[]).push([[0],{194:function(e,t,a){e.exports=a(225)},223:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),c=a.n(o),i=a(18),s=a.n(i),l=a(16),u=a(156),m=a(45),d=a(157),p=a(158),f=a(103),g=a(138),b=a.n(g),h=a(139),v=a.n(h),E=a(13),O=a(30),j=a(10),k=a(280),y=a(284),x=function(e){return e.reduce((function(e,t){return"".concat(e,"&category_like=").concat(t)}),"")},C=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return n.length?"products?_limit=".concat(a,"&_page=").concat(e,"&title_like=^").concat(t).concat(x(n)):"products?_limit=".concat(a,"&_page=").concat(e,"&title_like=^").concat(t)},S=Object(y.a)("FETCH_FAILURE"),N=a(112),I=a(113),B=a(70),T=function(){function e(){Object(N.a)(this,e)}return Object(I.a)(e,null,[{key:"parseResponse",value:function(e){return 401===e.status?c.a.createElement(B.a,{to:"/login"}):e.ok?e:Promise.reject(e)}},{key:"request",value:function(e,t){var a=this;return fetch("".concat("http://localhost:4000","/").concat(e),t).then((function(e){return a.parseResponse(e)}))}},{key:"get",value:function(e){return this.request(e)}},{key:"post",value:function(e,t){return this.request(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}}]),e}(),F=Object(y.a)("FETCH_BOOKS_SUCCESS"),w=Object(y.a)("FETCH_SEARCHED_BOOKS_SUCCESS"),R=Object(y.a)("REMOVE_BOOKS"),_=Object(y.a)("CHANGE_SEARCH_MODE"),A=Object(y.a)("GET_SERVER_ITEMS_LENGTH"),L=Object(y.a)("GET_SEARCH_SUCCESS"),P=Object(y.a)("TOGGLE_FAVOURITE"),D=Object(y.a)("FETCH_ACTIVE_BOOK"),q=Object(y.a)("REMOVE_ACTIVE_BOOK"),G=Object(y.a)("GET_CATEGORIES"),M=Object(y.a)("ADD_ACTIVE_CATEGORIES"),V=Object(y.a)("REMOVE_ACTIVE_CATEGORIES"),H=Object(y.a)("GET_FAVOURITES"),z=Object(y.a)("REMOVE_FAVOURITES"),U=Object(y.a)("REMOVE_FAVOURITES_ID"),W=Object(y.a)("REMOVE_PAGES"),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24;return function(r){return T.get(C(e,t,n,a)).then((function(e){return e.json()})).then((function(e){return r(F(e))})).catch((function(e){return r(S(e))}))}},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24;return function(r){return T.get(C(a,e,n,t)).then((function(e){return e.json()})).then((function(e){return r(w(e))})).catch((function(e){return r(S(e))}))}},Y=function(){return function(e){return e(R())}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24;return function(r){return T.get(C(a,e,n,t)).then((function(e){return r(A(Number(e.headers.get("X-Total-Count"))))}))}},Z=function(e){return function(t){return t(_(e))}},X=function(){return function(e){return e(W())}},Q=Object(k.a)((n={},Object(E.a)(n,w,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{books:Object(O.a)(t.payload)})})),Object(E.a)(n,R,(function(e){return Object(j.a)(Object(j.a)({},e),{},{books:[],page:1})})),Object(E.a)(n,F,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{books:[].concat(Object(O.a)(e.books),Object(O.a)(t.payload)),page:e.page+1})})),Object(E.a)(n,_,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isSearching:t.payload})})),Object(E.a)(n,A,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serverItemslength:t.payload})})),Object(E.a)(n,D,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{activeBook:Object(j.a)({},t.payload)})})),Object(E.a)(n,q,(function(e){return Object(j.a)(Object(j.a)({},e),{},{activeBook:{}})})),Object(E.a)(n,L,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{search:t.payload})})),Object(E.a)(n,P,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{favourites:e.favourites.includes(t.payload)?e.favourites.filter((function(e){return e!==t.payload})):[].concat(Object(O.a)(e.favourites),[t.payload])})})),Object(E.a)(n,G,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{categories:Object(O.a)(t.payload)})})),Object(E.a)(n,M,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{activeCategories:[].concat(Object(O.a)(e.activeCategories),[t.payload])})})),Object(E.a)(n,V,(function(e,t){return""===t.payload?Object(j.a)(Object(j.a)({},e),{},{activeCategories:[]}):Object(j.a)(Object(j.a)({},e),{},{activeCategories:Object(O.a)(e.activeCategories.filter((function(e){return e!==t.payload})))})})),Object(E.a)(n,H,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{favouritesBooks:Object(O.a)(t.payload)})})),Object(E.a)(n,z,(function(e){return Object(j.a)(Object(j.a)({},e),{},{favouritesBooks:[]})})),Object(E.a)(n,U,(function(e){return Object(j.a)(Object(j.a)({},e),{},{favourites:[]})})),Object(E.a)(n,W,(function(e){return Object(j.a)(Object(j.a)({},e),{},{page:2})})),n),{books:[],page:1,isSearching:!1,serverItemslength:0,activeBook:{},search:"",favourites:[],categories:[],activeCategories:[],favouritesBooks:[]}),ee=Object(y.a)("TOGGLE_CART"),te=Object(y.a)("FETCH_CART_BOOKS"),ae=Object(y.a)("INCREMENT_COUNT"),ne=Object(y.a)("DECREMENT_COUNT"),re=(Object(y.a)("ORDER_BOOKS"),Object(y.a)("SET_LOADING")),oe=Object(y.a)("RESET_CART"),ce=function(e){return function(t){return t(ee(e))}},ie=function(e,t){return function(a){return a(re(!0)),T.post("orders",{products:e,info:t}).then((function(e){return e.json()})).then((function(){return a(oe())})).catch((function(e){return a(re(!1)),a(S(e))}))}},se={books:[],fetchedBooks:[],isLoading:!1},le=Object(k.a)((r={},Object(E.a)(r,re,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isLoading:t.payload})})),Object(E.a)(r,ee,(function(e,t){var a=[];return e.books.forEach((function(e){a.push(Number(Object.keys(e)[0]))})),Object(j.a)(Object(j.a)({},e),{},{books:a.includes(t.payload)?e.books.filter((function(e){return Number(Object.keys(e)[0])!==t.payload})):[].concat(Object(O.a)(e.books),[Object(E.a)({},t.payload,1)])})})),Object(E.a)(r,te,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{fetchedBooks:t.payload,isLoading:!1})})),Object(E.a)(r,ae,(function(e,t){var a=Object(O.a)(e.books),n=a.find((function(e){return e[t.payload]}));return n[t.payload]=n[t.payload]+1,Object(j.a)(Object(j.a)({},e),{},{books:a})})),Object(E.a)(r,ne,(function(e,t){var a=Object(O.a)(e.books),n=a.find((function(e){return e[t.payload]}));return n[t.payload]=n[t.payload]>1?n[t.payload]-1:1,Object(j.a)(Object(j.a)({},e),{},{books:a})})),Object(E.a)(r,oe,(function(){return se})),r),se),ue=Object(y.a)("IS_LOGGED"),me=function(e){return function(t){return t(ue(e))}},de=Object(k.a)(Object(E.a)({},ue,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isLogged:t.payload})})),{isLogged:!1}),pe=Object(k.a)(Object(E.a)({},S,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{errors:!0})})),{errors:!1}),fe={key:"isLogged",storage:b.a,whitelist:["isLogged"],stateReconciler:v.a},ge={key:"favourites",storage:b.a,whitelist:["favourites"],stateReconciler:v.a},be={key:"books",storage:b.a,whitelist:["books"],stateReconciler:v.a},he=Object(m.combineReducers)({shop:Object(f.a)(ge,Q),cart:Object(f.a)(be,le),user:Object(f.a)(fe,de),error:pe}),ve=Object(m.createStore)(he,Object(d.composeWithDevTools)(Object(m.applyMiddleware)(p.a))),Ee=Object(f.b)(ve),Oe=a(24),je=a(171),ke=a(276),ye=a(169),xe=a.n(ye),Ce=a(173),Se=a(172),Ne=a(279),Ie=function(e){Object(Ce.a)(a,e);var t=Object(Se.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1,errorInfo:{}},e}return Object(I.a)(a,[{key:"componentDidCatch",value:function(e){this.setState({errorInfo:e})}},{key:"render",value:function(){var e=this.props.children,t=this.state,a=t.hasError,n=t.errorInfo;return a?c.a.createElement(Ne.a,{component:"div"},c.a.createElement(Ne.a,{component:"p"},n.name||"Error:"),c.a.createElement(Ne.a,{component:"p"},n.message||"Something went wrong :(")):e}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),a}(c.a.Component),Be=a(256),Te=a(176),Fe=a(255),we=Object(Fe.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh"}}),Re=function(){var e=we();return c.a.createElement(Be.a,{component:"div",className:e.root},c.a.createElement(Te.a,{variant:"h2",color:"primary"},"Contacts Page"))},_e=a(92),Ae=a(287),Le=a(265),Pe=a(266),De=a(267),qe=a(259),Ge=a(260),Me=a(261),Ve=a(262),He=a(258),ze=a(227),Ue=a(121),We=a.n(Ue),Ke=a(163),$e=a.n(Ke),Ye=Object(Fe.a)({buttons:{position:"absolute",bottom:"0",right:"0"}}),Je=function(e){var t=e.bookId,a=e.toggleFavourite,n=e.toggleCart,r=e.isFavourite,o=e.isInCart,i=Ye();return c.a.createElement(He.a,{className:i.buttons},c.a.createElement(ze.a,{color:r?"primary":"default","aria-label":"add to favourites",onClick:function(){a(t)}},c.a.createElement($e.a,null)),c.a.createElement(ze.a,{color:o?"primary":"default","aria-label":"add to shopping cart",onClick:function(){n(t)}},c.a.createElement(We.a,null)))};Je.defaultProps={isFavourite:!1,isInCart:!1,toggleFavourite:function(){},toggleCart:function(){}};var Ze=a(140),Xe=function(e){return e.cart.books},Qe=function(e,t){return t.bookId},et=Object(Ze.a)((function(e){return e.shop.favourites}),Qe,(function(e,t){return e.includes(t)})),tt=Object(Ze.a)(Xe,Qe,(function(e,t){var a=[];return e.forEach((function(e){a.push(Number(Object.keys(e)[0]))})),a.includes(t)})),at=Object(Ze.a)(Xe,Qe,(function(e,t){var a=e.find((function(e){return e[t]}));return a?a[t]:1})),nt={toggleFavourite:function(e){return function(t){return t(P(e))}},toggleCart:ce},rt=Object(l.b)((function(e,t){return{isFavourite:et(e,t),isInCart:tt(e,t)}}),nt)(Je),ot=Object(Fe.a)({root:{maxWidth:"300px",margin:"15px",position:"relative",paddingBottom:"40px"},content:{textDecoration:"none",cursor:"pointer"},media:{height:"200px",cursor:"pointer"}}),ct=function(e){var t=e.book,a=e.changeSearchMode,n=t.id,r=t.title,o=t.description,i=t.img,s=t.category,l=ot();return c.a.createElement(qe.a,{className:l.root},c.a.createElement(Ge.a,null,c.a.createElement(Oe.b,{to:"/books/".concat(n),className:l.content,onClick:function(){a(!1)}},c.a.createElement(Me.a,{className:l.media,image:i}),c.a.createElement(Ve.a,null,c.a.createElement(Te.a,{gutterBottom:!0,variant:"h5",component:"h2",color:"primary"},r),c.a.createElement(Te.a,{variant:"body2",color:"textSecondary",component:"p"},o),c.a.createElement(Te.a,{variant:"body2",color:"primary",component:"p"},s)))),c.a.createElement(rt,{bookId:n}))},it=a(263),st=Object(Fe.a)({root:{backgroundColor:"rgba(0, 0, 0, 0.8)",height:"100vh",width:"100%",position:"fixed",top:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:10,overflow:"hidden"}}),lt=function(){var e=st();return c.a.createElement("div",{className:e.root},c.a.createElement(it.a,{variant:"indeterminate",color:"primary"}))},ut=a(264),mt=function(e){var t=e.children,a=e.onClick,n=e.color,r=e.variant,o=e.type,i=e.size,s=e.disabled,l=e.className;return c.a.createElement(ut.a,{color:n,variant:r,type:o,size:i,onClick:a,disabled:s,className:l},t)};mt.defaultProps={children:"",onClick:function(){},color:"default",variant:"contained",type:"button",size:"medium",disabled:!1,className:""};var dt=function(){return c.a.createElement(Te.a,{variant:"h2",color:"primary"},"Ooops! Something went wrong")},pt=Object(Fe.a)({container:{display:"flex",flexDirection:"column",alignItems:"center",margin:"140px 0 100px 0",position:"relative"},root:{display:"flex",flexWrap:"wrap",padding:"20px",justifyContent:"center"},form:{position:"absolute",top:"-70px",left:"130px"}}),ft=function(e){var t=e.books,a=e.requestBooks,n=e.errors,r=e.page,i=e.serverItemslength,s=e.getServerItemsLength,l=e.isSearching,u=e.changeSearchMode,m=e.search,d=e.activeCategories,p=e.getFavorites,f=e.favourites,g=e.isFavorite,b=e.setIsFavorite,h=e.favouritesBooks,v=e.removeFavourites,E=pt();Object(o.useEffect)((function(){t.length||(s(),a())}),[]);var O=g?h:t;return c.a.createElement(Be.a,{component:"div",className:E.container},c.a.createElement(Ae.a,{component:"fieldset",className:E.form},c.a.createElement(Le.a,{"aria-label":"position",row:!0},c.a.createElement(Pe.a,{value:"start",control:c.a.createElement(De.a,{onChange:function(){b(!g),f.length&&!g?p(f):g&&v()},color:"primary"}),label:g?"Show All":"Show Only Favourites",labelPlacement:"start"}))),c.a.createElement(Be.a,{component:"div",className:E.root},O.length&&!n?c.a.createElement(c.a.Fragment,null,O.map((function(e){return c.a.createElement(ct,{key:e.id,book:e,changeSearchMode:u})}))):g&&!f.length?c.a.createElement(Te.a,{color:"primary",variant:"h3"},"You do not have any favourites!"):l?c.a.createElement(Te.a,{variant:"h3",color:"primary"},"No results"):n?c.a.createElement(dt,null):c.a.createElement(lt,null)),t.length&&t.length<i&&!n&&!g?c.a.createElement(mt,{variant:"contained",color:"primary",onClick:function(){a(r,m,d)}},"Load more"):null)};ft.defaultProps={errors:!1,serverItemslength:24,page:1,isSearching:!1,isFavorite:!1,search:"",favouritesBooks:[]};var gt={requestBooks:K,getServerItemsLength:J,changeSearchMode:Z,getFavorites:function(e){return function(t){return T.get("products?".concat(function(e){return e.reduce((function(e,t){return e+="&id=".concat(t)}),"")}(e))).then((function(e){return e.json()})).then((function(e){return t(H(e))})).catch((function(e){return t(S(e))}))}},removeFavourites:function(){return function(e){return e(z())}}},bt=Object(l.b)((function(e){return{books:e.shop.books,errors:e.error.errors,page:e.shop.page,isSearching:e.shop.isSearching,serverItemslength:e.shop.serverItemslength,search:e.shop.search,activeCategories:e.shop.activeCategories,favourites:e.shop.favourites,favouritesBooks:e.shop.favouritesBooks}}),gt)(ft),ht=a(164),vt=a(278),Et=Object(Fe.a)({root:{display:"flex",justifyContent:"flex-end",marginTop:"35px",position:"absolute"},input:{textAlign:"center",width:"500px",marginRight:"140px",padding:"0"}}),Ot={requestBooks:K,requestSearchedBooks:$,removeBooks:Y,changeSearchMode:Z,getServerItemsLength:J,getSearch:function(e){return function(t){return t(L(e))}},removePages:X},jt=Object(l.b)((function(e){return{isSearching:e.shop.isSearching,activeCategories:e.shop.activeCategories,search:e.shop.search}}),Ot)((function(e){var t=e.changeSearchMode,a=e.requestSearchedBooks,n=e.getServerItemsLength,r=e.removeBooks,o=e.requestBooks,i=e.getSearch,s=e.activeCategories,l=e.removePages,u=e.search,m=Et();return c.a.createElement(Be.a,{component:"div",className:m.root},c.a.createElement(vt.a,{variant:"outlined",className:m.input,label:"Search...",name:"search",value:u,onChange:function(e){return Object(ht.a)(400,function(e){var c=e.target.value;c.length?(t(!0),a(c,s),n(c,s)):(t(!1),r(),n("",s),o(1,"",s),l()),i(c)}(e))}}))})),kt=a(165),yt=a.n(kt),xt=(a(221),a(222),a(223),Object(Fe.a)({slider:{margin:"30px auto",width:"700px"},sliderItem:{width:"700px"},sliderImg:{width:"700px",height:"300px"}})),Ct=function(){var e=xt();return c.a.createElement(yt.a,Object.assign({},{dots:!0,infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0},{className:e.slider}),c.a.createElement("div",{className:e.sliderItem},c.a.createElement("img",{className:e.sliderImg,src:"./slider-6.jpg",alt:""})),c.a.createElement("div",{className:e.sliderItem},c.a.createElement("img",{className:e.sliderImg,src:"./slider-4.jpg",alt:""})),c.a.createElement("div",{className:e.sliderItem},c.a.createElement("img",{className:e.sliderImg,src:"./slider-2.png",alt:""})),c.a.createElement("div",{className:e.sliderItem},c.a.createElement("img",{className:e.sliderImg,src:"./slider-1.jpg",alt:""})),c.a.createElement("div",{className:e.sliderItem},c.a.createElement("img",{className:e.sliderImg,src:"./slider-5.jpg",alt:""})),c.a.createElement("div",{className:e.sliderItem},c.a.createElement("img",{className:e.sliderImg,src:"./slider-3.jpg",alt:""})))},St=a(282),Nt=Object(Fe.a)({container:{display:"flex",justifyContent:"space-between",alignItems:"center"}}),It=function(e){var t=e.name,a=e.properties,n=e.isActive,r=Nt(),o=a.requestSearchedBooks,i=a.search,s=a.addActiveCategories,l=a.removeActiveCategories,u=a.activeCategories,m=a.removeBooks,d=a.getServerItemsLength,p=a.removePages;return c.a.createElement(Be.a,{component:"div",className:r.container},c.a.createElement(Te.a,{variant:"body1"},t),c.a.createElement(St.a,{checked:n,onChange:function(){var e;n?(e=u.filter((function(e){return e!==t})),l(t),i.length||m()):(e=[].concat(Object(O.a)(u),[t]),s(t)),p(),d(i,e),o(i,e)},color:"primary"}))},Bt=Object(Fe.a)({container:{position:"fixed",left:"0",top:"64px",height:"100vh",padding:"70px 0",width:"auto",zIndex:"4"}}),Tt={getCategories:function(){return function(e){return T.get("categories").then((function(e){return e.json()})).then((function(t){return e(G(t))})).catch((function(t){return e(S(t))}))}},requestSearchedBooks:$,addActiveCategories:function(e){return function(t){return t(M(e))}},removeActiveCategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t(V(e))}},removeBooks:Y,getServerItemsLength:J,requestBooks:K,removePages:X},Ft=Object(l.b)((function(e){return{categories:e.shop.categories,search:e.shop.search,activeCategories:e.shop.activeCategories}}),Tt)((function(e){var t=e.getCategories,a=e.categories,n=e.requestSearchedBooks,r=e.search,i=e.addActiveCategories,s=e.removeActiveCategories,l=e.activeCategories,u=e.removeBooks,m=e.getServerItemsLength,d=e.requestBooks,p=e.isFavorite,f=e.removePages,g=Bt();Object(o.useEffect)((function(){return t(),function(){p&&u()}}),[]);var b={requestSearchedBooks:n,search:r,addActiveCategories:i,removeActiveCategories:s,activeCategories:l,removeBooks:u,getServerItemsLength:m,removePages:f};return c.a.createElement(Be.a,{component:"div",className:g.container},a.map((function(e){return c.a.createElement(It,{key:e,name:e,properties:b,isActive:l.includes(e)})})),c.a.createElement(mt,{size:"small",variant:"outlined",color:"primary",onClick:function(){s(),u(),f(),r.length?(m(r),n(r)):(m(),d())},disabled:!l.length},"Remove categories"))})),wt=function(){var e=Object(o.useState)(!1),t=Object(_e.a)(e,2),a=t[0],n=t[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ct,null),!a&&c.a.createElement(Ft,{isFavorite:a}),!a&&c.a.createElement(jt,null),c.a.createElement(bt,{isFavorite:a,setIsFavorite:n}))},Rt=a(289),_t=Object(Fe.a)({container:{display:"flex",flexDirection:"column",margin:"40px 30px",borderRadius:"10px",boxShadow:"-11px 11px 36px -2px rgba(72,72,72,0.4)",padding:"40px"},buttons:{display:"flex",alignItems:"center"},info:{margin:"0 15px"},infoContainer:{display:"flex",alignItems:"center",marginTop:"10px"},buttonContainer:{display:"flex",justifyContent:"space-between",width:"550px"},img:{marginRight:"20px",width:"70px",height:"70px"},price:{color:"#484848",fontWeight:"bold"},accent:{color:"#484848"}}),At=function(e){var t=e.book,a=e.removeFromCart,n=e.count,r=e.incrementCount,i=e.decrementCount,s=_t(),l=Object(o.useCallback)((function(){r(t.id)}),[]),u=Object(o.useCallback)((function(){i(t.id)}),[]),m=Object(o.useCallback)((function(){a(t.id)}));return c.a.createElement(Be.a,{component:"div",className:s.container},c.a.createElement(Te.a,{variant:"h4",color:"primary"},t.title),c.a.createElement(Te.a,null,t.description),c.a.createElement(Be.a,{component:"div",className:s.buttons},c.a.createElement(Be.a,{component:"div",className:s.infoContainer},c.a.createElement(Rt.a,{src:t.img,className:s.img}),c.a.createElement(Te.a,{variant:"h6",color:"primary",className:s.info},"Price for one item:",c.a.createElement(Ne.a,{component:"span",className:s.accent}," ".concat(t.price)," $")),c.a.createElement(Te.a,{variant:"h6",color:"primary",className:s.info},"Total:",c.a.createElement(Ne.a,{component:"span",className:s.price}," ".concat(n*t.price)," $"))),c.a.createElement(Be.a,{component:"div",className:s.buttonContainer},c.a.createElement(mt,{onClick:u,color:"primary",disabled:n<=1},"-"),c.a.createElement(Te.a,{variant:"h6",color:"primary",className:s.info},n),c.a.createElement(mt,{onClick:l,color:"primary"},"+"),c.a.createElement(mt,{onClick:m,className:s.remove},"Remove"))))};At.defaultProps={removeFromCart:function(){},count:1,incrementCount:function(){},decrementCount:function(){}};var Lt={incrementCount:function(e){return function(t){return t(ae(e))}},decrementCount:function(e){return function(t){return t(ne(e))}}},Pt=Object(l.b)((function(e,t){return{count:at(e,t)}}),Lt)(At),Dt=a(133),qt=a(50),Gt=a(170),Mt=a(268),Vt=a(283),Ht=a(26),zt=a(277),Ut=Object(Fe.a)({form:{margin:"50px 30px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},formField:{margin:"15px",width:"400px"},button:{marginTop:"20px",display:"flex",justifyContent:"center"}}),Wt=function(e){var t=e.cartBooks,a=e.orderBooks,n=e.isOpen,r=e.onClose,i=Ut(),s=Object(B.g)(),l=Object(Mt.a)(Date.now(),{hours:24,minutes:0}),u=Object(o.useState)(l.getTime()+6e4),m=Object(_e.a)(u,2),d=m[0],p=m[1],f=Object(Dt.a)({initialValues:{city:"",address:"",phone:"",date:d},validationSchema:qt.b().shape({city:qt.c().required("Required").matches(/^[a-zA-Z]+$/,"Invalid city"),address:qt.c().required("Required"),phone:qt.c().required("Required").matches(/^\d+$/,"Only numbers").length(10,"Must be 10 numbers"),date:qt.a().min(l.getTime(),"Must be greater than +24 hours")}),onSubmit:function(e){var n={city:e.city,address:e.address,phone:e.phone,date:Number(d)};a(t,n),s.push("/books")}});return c.a.createElement(Ht.a,{utils:Gt.a},c.a.createElement(Vt.a,{open:n,onClose:function(){r()}},c.a.createElement("form",{className:i.form,onSubmit:f.handleSubmit},c.a.createElement(vt.a,Object.assign({className:i.formField,error:f.errors.city&&f.touched.city,helperText:f.touched.city&&f.errors.city,id:"city",name:"city",type:"text",label:"City*",variant:"outlined"},f.getFieldProps("city"))),c.a.createElement(vt.a,Object.assign({className:i.formField,error:f.errors.address&&f.touched.address,helperText:f.touched.address&&f.errors.address,id:"address",name:"address",type:"text",label:"Address*",variant:"outlined"},f.getFieldProps("address"))),c.a.createElement(vt.a,Object.assign({className:i.formField,error:f.errors.phone&&f.touched.phone,helperText:f.touched.phone&&f.errors.phone,id:"phone",name:"phone",type:"tel",label:"Phone*",variant:"outlined"},f.getFieldProps("phone"))),c.a.createElement(zt.a,{className:i.formField,id:"date",name:"date",value:d,onChange:function(e){p(e),f.setFieldValue("date",e.getTime())},minDate:l,minDateMessage:"Available time is +24 hours from now",strictCompareDates:!0,label:"Select time"}),c.a.createElement(mt,{type:"submit",color:"primary",variant:"contained",disabled:!(f.isValid&&f.dirty),className:i.button},"Confirm the order"))))};Wt.defaultProps={cartBooks:[]};var Kt={toggleCart:ce,orderBooks:ie},$t=Object(l.b)((function(e){return{cartBooks:e.cart.books}}),Kt)(Wt),Yt=Object(Fe.a)({root:{display:"flex",flexDirection:"column",marginBottom:"150px",alignItems:"center"},total:{fontWeight:"bold",margin:"30px "},totalSum:{color:"#484848"},title:{marginTop:"60px"}}),Jt=function(e){var t=e.books,a=e.toggleCart,n=(e.cartBooks,Yt()),r=Object(B.g)(),i=Object(o.useState)(!1),s=Object(_e.a)(i,2),l=s[0],u=s[1],m=Object(o.useCallback)((function(e){a(e)}),[]);return c.a.createElement(Be.a,{component:"div",className:n.root},c.a.createElement(Te.a,{variant:"h3",color:"primary",className:n.title},"Your Order:"),t.map((function(e){return c.a.createElement(Pt,{key:e.id,book:e,bookId:e.id,removeFromCart:m})})),c.a.createElement(mt,{variant:"outlined",color:"primary",size:"large",onClick:function(){u(!0),r.push("/cart/checkout")}},"Checkout"),l&&c.a.createElement($t,{isOpen:l,onClose:function(){r.push("/cart"),u(!1)}}))};Jt.defaultProps={books:[],toggleCart:function(){},cartBooks:[]};var Zt={toggleCart:ce,orderBooks:ie},Xt=Object(l.b)((function(e){return{cartBooks:e.cart.books}}),Zt)(Jt),Qt=Object(Fe.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh"}}),ea=function(e){var t=e.books,a=e.fetchedBooks,n=e.fetchCartBooks,r=e.isLoading,i=e.errors,s=Qt();return Object(o.useEffect)((function(){n(t)}),[t.length]),c.a.createElement(Be.a,{component:"div",className:s.root},r?c.a.createElement(lt,null):a.length&&!i?c.a.createElement(c.a.Fragment,null,c.a.createElement(Xt,{books:a})):i?c.a.createElement(dt,null):c.a.createElement(Te.a,{variant:"h3",color:"primary"},"Your Cart is Empty"))};ea.defaultProps={books:[],fetchedBooks:[],isLoading:!1,errors:!1};var ta={fetchCartBooks:function(e){return function(t){if(!e.length)return t(te([]));var a=[];return e.forEach((function(e){a.push(Number(Object.keys(e)[0]))})),t(re(!0)),T.get(function(e){var t=e.reduce((function(e,t){return e+="&id=".concat(t)}),"").slice(1);return"products?".concat(t)}(a)).then((function(e){return e.json()})).then((function(e){return t(te(e))})).catch((function(e){return t(re(!1)),t(S(e))}))}}},aa=Object(l.b)((function(e){return{books:e.cart.books,fetchedBooks:e.cart.fetchedBooks,isLoading:e.cart.isLoading,errors:e.error.errors}}),ta)(ea),na=Object(Fe.a)({container:{paddingTop:"70px",paddingLeft:"50px",paddingRight:"50px",paddingBottom:"100px"},root:{position:"relative",marginTop:"60px",display:"flex",justifyContent:"center"},media:{display:"flex",width:"600px",height:"350px"},text:{display:"flex",flexDirection:"column",padding:"20px"},price:{marginTop:"15px",fontSize:"20px",fontWeight:"600",marginBottom:"60px"},description:{marginTop:"10px",fontSize:"18px",color:"grey"},category:{position:"absolute",bottom:"20px"},priceSum:{color:"#484848"}}),ra=function(e){var t=e.activeBook,a=e.errors,n=e.requestBook,r=e.removeBook,i=na(),s=Object(B.g)().goBack,l=Object(B.h)().bookId;Object(o.useEffect)((function(){return n(Number(l)),function(){r()}}),[]);var u=Number(l);return t&&!a?c.a.createElement(Be.a,{component:"div",className:i.container},c.a.createElement(mt,{type:"button",onClick:s,color:"primary"},"Return back"),c.a.createElement(qe.a,{component:"div",className:i.root},c.a.createElement(Ne.a,{component:"div",className:i.media},c.a.createElement(Me.a,{component:"div",className:i.media,image:t.img})),c.a.createElement(Ne.a,{component:"div",className:i.text},c.a.createElement(Te.a,{variant:"h4",color:"primary"},t.title),c.a.createElement(Te.a,{className:i.description,variant:"h6"},t.description),c.a.createElement(Te.a,{variant:"h4",className:i.price,color:"primary"},"Price:",c.a.createElement(Ne.a,{component:"span",className:i.priceSum}," ".concat(t.price)," $")),c.a.createElement(Te.a,{variant:"h6",color:"primary",className:i.category},"Category: ",c.a.createElement(Ne.a,{component:"span",className:i.priceSum}," ".concat(t.category))),c.a.createElement(rt,{bookId:u})))):a?c.a.createElement(dt,null):c.a.createElement(lt,null)};ra.defaultProps={errors:!1,id:1,title:"title",price:100,description:"text",img:"src",category:"text"};var oa={requestBook:function(e){return function(t){return T.get("products/".concat(e)).then((function(e){return e.json()})).then((function(e){return t(D(e))})).catch((function(e){return t(S(e))}))}},removeBook:function(){return function(e){return e(q())}}},ca=Object(l.b)((function(e,t){return{activeBook:e.shop.activeBook,errors:e.error.errors}}),oa)(ra),ia=Object(Fe.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh"},button:{textDecoration:"none",marginTop:"40px"}}),sa=function(){var e=ia();return c.a.createElement(Be.a,{component:"div",className:e.root},c.a.createElement(Te.a,{variant:"h1",color:"primary"},"Page Not Found"),c.a.createElement(Oe.b,{to:"/books",className:e.button},c.a.createElement(mt,{variant:"outlined",color:"primary"},"Click to return to the main page")))},la=function(e){var t=e.isLogged,a=c.a.createElement(B.d,null,c.a.createElement(B.b,{exact:!0,path:"/",component:wt}),c.a.createElement(B.b,{exact:!0,path:"/books",component:wt}),c.a.createElement(B.b,{exact:!0,path:"/books/:bookId",component:ca}),c.a.createElement(B.b,{exact:!0,path:"/contacts",component:Re}),c.a.createElement(B.b,{exact:!0,path:"/cart",component:aa}),c.a.createElement(B.b,{exact:!0,path:"/cart/checkout",component:aa}),c.a.createElement(B.b,{exact:!0,path:"*",component:sa})),n=c.a.createElement(B.a,{to:"/login"});return t?a:n},ua=Object(Fe.a)({root:{display:"flex",flexDirection:"column",justifyContent:"center",height:"80vh",transform:"translateY(-5%)"},form:{margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",width:"600px"},formField:{margin:"20px 0",width:"400px"},button:{marginTop:"20px"}}),ma={changeStatus:me},da=Object(l.b)((function(e){return{isLogged:e.user.isLogged}}),ma)((function(e){var t=Object(B.g)(),a=Object(Dt.a)({initialValues:{email:"",password:""},validationSchema:qt.b().shape({email:qt.c().email("Invalid email").required("Required"),password:qt.c().matches(/^(?=^.{6,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,"Password invalid").required("Required")}),onSubmit:function(){e.changeStatus(!0),t.push("/books")}}),n=ua();return c.a.createElement(Be.a,{component:"div",className:n.root},c.a.createElement("form",{className:n.form,onSubmit:a.handleSubmit},c.a.createElement(vt.a,Object.assign({className:n.formField,error:a.errors.email&&a.touched.email,helperText:a.touched.email&&a.errors.email,id:"email",name:"email",type:"text",label:"Email",variant:"outlined"},a.getFieldProps("email"))),c.a.createElement(vt.a,Object.assign({className:n.formField,error:a.errors.password&&a.touched.password,helperText:a.touched.password&&a.errors.password,id:"password",name:"password",type:"password",label:"Password",variant:"outlined"},a.getFieldProps("password"))),c.a.createElement(mt,{size:"large",className:n.button,type:"submit",color:"primary",variant:"contained",disabled:!(a.isValid&&a.dirty)},"Submit")))})),pa=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(da,null))},fa=function(e){var t=e.isLogged;return c.a.createElement(B.d,null,c.a.createElement(B.b,{exact:!0,path:"/login",component:pa}),c.a.createElement(la,{isLogged:t}),c.a.createElement(B.b,{path:"*"},c.a.createElement(B.a,{to:"/login"})))},ga=a(271),ba=a(270),ha=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ga.a,null),c.a.createElement(ba.a,{container:!0},e.children))},va=a(272),Ea=a(269),Oa=a(273),ja=Object(Fe.a)({badge:{top:"7px"},image:{width:"40px"},links:{textDecoration:"none"},icon:{color:"#484848"}}),ka=function(e){var t=e.isLogged,a=e.changeStatus,n=e.selectedBooksAmount,r=e.removeFavouritesId,o=e.removeCartBooks,i=ja();return c.a.createElement(ba.a,{item:!0,xs:12},c.a.createElement(va.a,{position:"fixed",color:"default"},c.a.createElement(Ea.a,{disableGutters:!0},c.a.createElement(Be.a,{maxWidth:"lg"},c.a.createElement(ba.a,{container:!0},c.a.createElement(ba.a,{item:!0,xs:4,container:!0,spacing:2},c.a.createElement(ba.a,{item:!0,xs:3},c.a.createElement(Oe.c,{exact:!0,to:"/books",className:i.links},c.a.createElement("img",{src:"./book.png",alt:"logo",className:i.image}))),c.a.createElement(ba.a,{item:!0,xs:9},c.a.createElement(Oe.c,{exact:!0,to:"/books",className:i.links},c.a.createElement(Te.a,{variant:"h5",color:"primary"},"GetBooks")))),c.a.createElement(ba.a,{item:!0,xs:4}),c.a.createElement(ba.a,{item:!0,xs:4,container:!0,spacing:2},c.a.createElement(ba.a,{item:!0,xs:4},c.a.createElement(Oe.c,{exact:!0,to:"/contacts",className:i.links},c.a.createElement(mt,{variant:"text"},"Contacts"))),c.a.createElement(ba.a,{item:!0,xs:4},c.a.createElement(Oe.c,{exact:!0,to:"/cart",className:i.links},c.a.createElement(Oa.a,{badgeContent:n,color:"primary",className:i.badge},c.a.createElement(We.a,{className:i.icon})))),c.a.createElement(ba.a,{item:!0,xs:4},c.a.createElement(Oe.c,{exact:!0,to:"/",className:i.links},c.a.createElement(mt,{onClick:function(){a(!1),r(),o()},color:"primary",disabled:!t},t?"Log Out":"Log In")))))))),c.a.createElement(Ea.a,null))};ka.defaultProps={selectedBooksAmount:0};var ya={removeFavouritesId:function(){return function(e){return e(U())}},removeCartBooks:function(){return function(e){return e(oe())}}},xa=Object(l.b)((function(e){return{selectedBooksAmount:e.cart.books.length}}),ya)(ka),Ca=a(274),Sa=a(275),Na=Object(Fe.a)((function(){return{footer:{position:"relative"},appBar:{top:"auto",bottom:0},getBooks:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),Ia=function(){var e=Na(),t=function(e){return e.preventDefault()};return c.a.createElement(ba.a,{item:!0,xs:12,className:e.footer},c.a.createElement(va.a,{position:"fixed",className:e.appBar,color:"default",component:"footer"},c.a.createElement(Ca.a,null),c.a.createElement(Ea.a,{disableGutters:!0},c.a.createElement(Be.a,{maxWidth:"lg"},c.a.createElement(ba.a,{container:!0},c.a.createElement(ba.a,{item:!0,xs:4,container:!0,spacing:2},c.a.createElement(ba.a,{item:!0,xs:6},c.a.createElement(Te.a,null,c.a.createElement(Sa.a,{href:"#",onClick:t},"Privacy"))),c.a.createElement(ba.a,{item:!0,xs:6},c.a.createElement(Te.a,null,c.a.createElement(Sa.a,{href:"#",onClick:t},"Terms")))),c.a.createElement(ba.a,{item:!0,xs:4,container:!0},c.a.createElement(ba.a,{item:!0,xs:12},c.a.createElement(Ne.a,{component:"div",className:e.getBooks},c.a.createElement(Ne.a,{component:"div"},"GetBooks"),c.a.createElement(Ne.a,{component:"div"},c.a.createElement(Ne.a,{component:"span"},"2019-2020 GetBooks, Inc"))))),c.a.createElement(ba.a,{item:!0,xs:4,container:!0,spacing:2},c.a.createElement(ba.a,{item:!0,xs:4},c.a.createElement(Te.a,null,c.a.createElement(Sa.a,{href:"#",onClick:t},"Support"))),c.a.createElement(ba.a,{item:!0,xs:4},c.a.createElement(Te.a,null,c.a.createElement(Sa.a,{href:"#",onClick:t},"Sign Up"))),c.a.createElement(ba.a,{item:!0,xs:4},c.a.createElement(Te.a,null,c.a.createElement(Sa.a,{href:"#",onClick:t},"Sign In")))))))))},Ba=Object(Fe.a)({main:{height:"calc(100vh - 128px)"}}),Ta=function(e){var t=Ba();return c.a.createElement(ba.a,{item:!0,xs:12},c.a.createElement(Be.a,{component:"main",maxWidth:"lg",className:t.main},e.children))},Fa={changeStatus:me},wa=Object(l.b)((function(e){return{isLogged:e.user.isLogged}}),Fa)((function(e){var t=e.isLogged,a=e.changeStatus;return c.a.createElement(ha,null,c.a.createElement(xa,{isLogged:t,changeStatus:a}),c.a.createElement(Ta,null,c.a.createElement(fa,{isLogged:t})),c.a.createElement(Ia,null))})),Ra=Object(je.a)({palette:{primary:xe.a}}),_a=function(){return c.a.createElement(ke.a,{theme:Ra},c.a.createElement(Ie,null,c.a.createElement(Oe.a,null,c.a.createElement(wa,null))))};s.a.render(c.a.createElement(l.a,{store:ve},c.a.createElement(u.a,{loading:null,persistor:Ee},c.a.createElement(_a,null))),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.81fcf9cd.chunk.js.map